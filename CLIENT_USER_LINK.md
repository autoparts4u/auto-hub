# –°–≤—è–∑—å –ö–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π:
- **User** - –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **Clients** - –∫–ª–∏–µ–Ω—Ç—ã (–¥–ª—è –∑–∞–∫–∞–∑–æ–≤)

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é, –∞ –ø–æ–∑–∂–µ —Å–≤—è–∑—ã–≤–∞—Ç—å –∏—Ö —Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
```prisma
model User {
  id            String    @id @default(cuid())
  name          String?
  email         String    @unique
  phone         String?
  password      String?
  role          Role      @default(user)
  
  client        Clients?  // –°–≤—è–∑—å 1:1 —Å –∫–ª–∏–µ–Ω—Ç–æ–º
  // ...
}
```

### Clients (–ö–ª–∏–µ–Ω—Ç—ã)
```prisma
model Clients {
  id            String    @id @default(cuid())
  name          String
  fullName      String
  email         String?   @unique  // –î–ª—è —Å–≤—è–∑–∏ —Å User
  phone         String?   @unique  // –î–ª—è —Å–≤—è–∑–∏ —Å User
  address       String?
  priceAccessId Int?
  userId        String?   @unique  // –°–≤—è–∑—å —Å User (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è)
  
  user          User?     @relation(fields: [userId], references: [id])
  priceAccess   PriceTypes?
  orders        Orders[]
  // ...
}
```

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ **–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**:
```typescript
POST /api/clients
{
  "name": "–û–û–û –†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞",
  "fullName": "–û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é –†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞",
  "email": "info@rk.com",       // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "phone": "+380501234567",     // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "address": "—É–ª. –ì–ª–∞–≤–Ω–∞—è, 123",
  "priceAccessId": 1            // –¢–∏–ø —Ü–µ–Ω—ã
}
```

–ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ **userId = null** (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω).

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ö–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ:
```typescript
POST /api/auth/register
{
  "email": "info@rk.com",
  "password": "secure_password",
  "name": "–û–û–û –†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"
}
```

–°–æ–∑–¥–∞–µ—Ç—Å—è **User**, –Ω–æ –ø–æ–∫–∞ –Ω–µ —Å–≤—è–∑–∞–Ω —Å **Clients**.

### 3. –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–æ email/phone:
```typescript
POST /api/clients/{clientId}/link-user
{
  "autoLink": true
}
```

–°–∏—Å—Ç–µ–º–∞:
1. –ò—â–µ—Ç User —Å email = client.email
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—â–µ—Ç User —Å phone = client.phone
3. –°–≤—è–∑—ã–≤–∞–µ—Ç Client.userId = User.id

#### –í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```typescript
POST /api/clients/{clientId}/link-user
{
  "userId": "user_cuid_here",
  "autoLink": false
}
```

### 4. –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å:
- ‚úÖ –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è (email + password)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã
- ‚úÖ –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
- ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç —Å–≤—è–∑—å User ‚Üî Client

## API endpoints

### GET /api/clients
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
```typescript
Response: Client[]
{
  id: string;
  name: string;
  fullName: string;
  email: string | null;
  phone: string | null;
  userId: string | null;
  user?: {
    id: string;
    name: string;
    email: string;
    phone: string | null;
    role: "user" | "admin";
    isConfirmed: boolean;
  };
  // ...
}
```

### POST /api/clients
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
```typescript
Body: {
  name: string;          // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  fullName: string;      // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  email?: string;        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —Å–≤—è–∑–∏ —Å User)
  phone?: string;        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —Å–≤—è–∑–∏ —Å User)
  address?: string;
  priceAccessId?: number;
}
```

### PUT /api/clients/{id}
–û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
```typescript
Body: {
  name?: string;
  fullName?: string;
  email?: string;
  phone?: string;
  address?: string;
  priceAccessId?: number;
  userId?: string;       // –ú–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é
}
```

### POST /api/clients/{id}/link-user
–°–≤—è–∑–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
```typescript
Body: {
  autoLink: true         // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ email/phone
}

–ò–õ–ò

Body: {
  autoLink: false,
  userId: string         // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–≤—è–∑–∏
}

Response: Client (—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º user)
```

### DELETE /api/clients/{id}/link-user
–û—Ç–≤—è–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
```typescript
Response: Client (userId = null, user = null)
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç —Å –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π

```
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞:
   - –ò–º—è: "–û–û–û –†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"
   - Email: "info@rk.com"
   - –¢–µ–ª–µ—Ñ–æ–Ω: "+380501234567"
   - –¢–∏–ø —Ü–µ–Ω—ã: "–û–ø—Ç"
   - userId: null (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)

2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑—ã –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

3. –ü–æ–∑–∂–µ –∫–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è:
   - Email: "info@rk.com"
   - Password: "..."

4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–≤—è–∑—ã–≤–∞–µ—Ç:
   POST /api/clients/{id}/link-user { "autoLink": true }

5. –¢–µ–ø–µ—Ä—å –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç:
   - –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
   - –í–∏–¥–µ—Ç—å —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã
   - –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º

```
1. –ö–ª–∏–µ–Ω—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è:
   - Email: "client@example.com"
   - User —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ—Ç —Å–≤—è–∑–∏ —Å Clients

2. –ö–ª–∏–µ–Ω—Ç –∑–≤–æ–Ω–∏—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç Clients:
   - Email: "client@example.com" (—Ç–æ—Ç –∂–µ!)
   - –î—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ

4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å—Ä–∞–∑—É —Å–≤—è–∑—ã–≤–∞–µ—Ç:
   POST /api/clients/{id}/link-user { "autoLink": true }

5. –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ –≤ —Å–≤–æ–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç 100 –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ Excel:
   - –£ –≤—Å–µ—Ö userId = null
   - –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É–∫–∞–∑–∞–Ω email/phone

2. –ö–ª–∏–µ–Ω—Ç—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è

3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ—Å–≤—è–∑—ã–≤–∞–Ω–∏–µ:
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ–∑–∞—Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ —Å email
   - POST /api/clients/{id}/link-user { "autoLink": true }

4. –ö–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º –∏—Å—Ç–æ—Ä–∏—è–º –∑–∞–∫–∞–∑–æ–≤
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞:
- ‚úÖ Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
- ‚úÖ Phone –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
- ‚úÖ Name –∏ fullName –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

### –ü—Ä–∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏:
- ‚úÖ User –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- ‚úÖ User –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ Clients
- ‚úÖ –ü—Ä–∏ autoLink: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å email –∏–ª–∏ phone —É –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –ü—Ä–∏ autoLink: –¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏—Å—å User —Å —Ç–∞–∫–∏–º email/phone

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤**: —Ç–æ–ª—å–∫–æ admin
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤**: —Ç–æ–ª—å–∫–æ admin
- **–°–≤—è–∑—ã–≤–∞–Ω–∏–µ User ‚Üî Client**: —Ç–æ–ª—å–∫–æ admin
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∏–µ–Ω—Ç–æ–≤**: admin –∏–ª–∏ —Å–∞–º –∫–ª–∏–µ–Ω—Ç (—Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –û–¥–∏–Ω User = –û–¥–∏–Ω Client (—Å–≤—è–∑—å 1:1)
- Email –∏ Phone —É–Ω–∏–∫–∞–ª—å–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü–µ Clients
- –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å Client —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞–∫–∞–∑–∞–º–∏

## UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è)

### –í —Ä–∞–∑–¥–µ–ª–µ "–ö–ª–∏–µ–Ω—Ç—ã" (admin):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–ª–∏–µ–Ω—Ç—ã                                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ò–º—è           Email           –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω  –î–µ–π—Å—Ç–≤–∏—è‚îÇ
‚îÇ –û–û–û "–†–ö"      info@rk.com     ‚úÖ –î–∞       [Edit]   ‚îÇ
‚îÇ –ò–ü –ò–≤–∞–Ω–æ–≤     ivan@ex.com     ‚ùå –ù–µ—Ç      [Link]   ‚îÇ
‚îÇ –ü–µ—Ç—Ä–æ–≤        -               ‚ùå –ù–µ—Ç      [Create] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–Ω–æ–ø–∫–∞ "Link User":
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –°–≤—è–∑–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚óã –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ email/phone)‚îÇ
‚îÇ ‚óã –í—ã–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é  ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [–í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ‚ñº]        ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [–û—Ç–º–µ–Ω–∞]        [–°–≤—è–∑–∞—Ç—å]       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –í –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –û–û–û "–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Email: info@rk.com              ‚îÇ
‚îÇ –¢–µ–ª–µ—Ñ–æ–Ω: +380501234567          ‚îÇ
‚îÇ –ê–¥—Ä–µ—Å: —É–ª. –ì–ª–∞–≤–Ω–∞—è, 123         ‚îÇ
‚îÇ –¢–∏–ø —Ü–µ–Ω—ã: –û–ø—Ç                   ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ üë§ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:                 ‚îÇ
‚îÇ ‚úÖ –°–≤—è–∑–∞–Ω —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:      ‚îÇ
‚îÇ    user@example.com             ‚îÇ
‚îÇ    [–û—Ç–≤—è–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]      ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –ò–õ–ò                             ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ ‚ùå –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω               ‚îÇ
‚îÇ    [–°–≤—è–∑–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º]    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ —É–∂–µ –µ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

1. –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Clients –ø–æ–ª—É—á–∞—Ç userId = null
2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–≤—è–∑–∞—Ç—å –∏—Ö –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∞—Å—Å–æ–≤–æ–≥–æ –∞–≤—Ç–æ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è:

```typescript
// lib/scripts/linkClientsToUsers.ts
async function linkAllClients() {
  const clients = await prisma.clients.findMany({
    where: { userId: null, email: { not: null } }
  });
  
  for (const client of clients) {
    try {
      await fetch(`/api/clients/${client.id}/link-user`, {
        method: 'POST',
        body: JSON.stringify({ autoLink: true })
      });
      console.log(`‚úÖ Linked: ${client.email}`);
    } catch (error) {
      console.log(`‚ùå Failed: ${client.email}`, error);
    }
  }
}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏–ª–∏ –±–µ–∑  
‚úÖ **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥** - –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å–≤—è–∑–∏  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤  
‚úÖ **–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - –∫–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á–µ—Ç  

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2. ‚úÖ API endpoints –≥–æ—Ç–æ–≤—ã
3. ‚è≥ –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏
4. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ú–æ–π –∞–∫–∫–∞—É–Ω—Ç" –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
5. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–∫–∞–∑–æ–≤ –ø–æ userId
6. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏

