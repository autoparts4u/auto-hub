# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ–ø–ª–∞—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ `OrderPaymentModal.tsx`, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç–æ–ª–±–µ—Ü "–î–µ–π—Å—Ç–≤–∏—è" –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–∫–∞–∑–æ–≤.

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã

–í —Ç–∞–±–ª–∏—Ü–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –∏–∫–æ–Ω–∫–æ–π **üíµ (DollarSign)** –≤ —Å—Ç–æ–ª–±—Ü–µ "–î–µ–π—Å—Ç–≤–∏—è":

```
| ID      | –ö–ª–∏–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | ... | –î–µ–π—Å—Ç–≤–∏—è          |
|---------|--------|--------|-----|-------------------|
| abc123  | –ò–≤–∞–Ω   | –ù–æ–≤—ã–π  | ... | üëÅÔ∏è üíµ üóëÔ∏è        |
                                     ‚Üë
                                   –≠—Ç–æ –æ–Ω–æ!
```

### 2. –î–æ–±–∞–≤–∏—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–π –ø–ª–∞—Ç–µ–∂

1. –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –≤ –ø–æ–ª–µ "–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞"
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂"
3. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ —Å—É–º–º–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫
4. ‚úÖ –ü–ª–∞—Ç–µ–∂ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∫ –æ–ø–ª–∞—á–µ–Ω–Ω–æ–π —Å—É–º–º–µ

### 3. –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–ø–ª–∞—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é"
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ
3. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é —Å—É–º–º—É
4. ‚úÖ –ó–∞–∫–∞–∑ –±—É–¥–µ—Ç –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π

## –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ:
- –ö–ª–∏–µ–Ω—Ç –∏ –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞
- –°–∫–∏–¥–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–ª–∞—Ç–µ:
- üü¢ **–û–ø–ª–∞—á–µ–Ω–æ:** –£–∂–µ –æ–ø–ª–∞—á–µ–Ω–Ω–∞—è —Å—É–º–º–∞
- üü† **–û—Å—Ç–∞—Ç–æ–∫:** –°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ
- üè∑Ô∏è **–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é/—á–∞—Å—Ç–∏—á–Ω–æ –æ–ø–ª–∞—á–µ–Ω–æ

### –î–µ–π—Å—Ç–≤–∏—è:
- –î–æ–±–∞–≤–∏—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–π –ø–ª–∞—Ç–µ–∂
- –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π

## –ü—Ä–∏–º–µ—Ä—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ß–∞—Å—Ç–∏—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞

```
–ó–∞–∫–∞–∑: 1000
–°–∫–∏–¥–∫–∞: 100
–ö –æ–ø–ª–∞—Ç–µ: 900
–û–ø–ª–∞—á–µ–Ω–æ: 0
–û—Å—Ç–∞—Ç–æ–∫: 900

‚Üí –ö–ª–∏–µ–Ω—Ç –ø–ª–∞—Ç–∏—Ç 300
‚Üí –ù–∞–∂–∏–º–∞–µ–º "–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂"

‚úÖ –û–ø–ª–∞—á–µ–Ω–æ: 300
‚úÖ –û—Å—Ç–∞—Ç–æ–∫: 600
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

```
–®–∞–≥ 1:
–û—Å—Ç–∞—Ç–æ–∫: 900 ‚Üí –ü–ª–∞—Ç–µ–∂ 300 ‚Üí –û—Å—Ç–∞—Ç–æ–∫: 600

–®–∞–≥ 2:
–û—Å—Ç–∞—Ç–æ–∫: 600 ‚Üí –ü–ª–∞—Ç–µ–∂ 200 ‚Üí –û—Å—Ç–∞—Ç–æ–∫: 400

–®–∞–≥ 3:
–û—Å—Ç–∞—Ç–æ–∫: 400 ‚Üí "–û–ø–ª–∞—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é" ‚Üí –û—Å—Ç–∞—Ç–æ–∫: 0 ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —Å—Ä–∞–∑—É

```
–ö –æ–ø–ª–∞—Ç–µ: 900
–û–ø–ª–∞—á–µ–Ω–æ: 0

‚Üí –ù–∞–∂–∏–º–∞–µ–º "–û–ø–ª–∞—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é"
‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º

‚úÖ –û–ø–ª–∞—á–µ–Ω–æ: 900
‚úÖ –°—Ç–∞—Ç—É—Å: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–ª–∞—á–µ–Ω–æ
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –°—É–º–º–∞ –±–æ–ª—å—à–µ 0
- –°—É–º–º–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞

### ‚ùå –ß—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç:
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞
- –°—É–º–º–∞ –±–æ–ª—å—à–µ –æ—Å—Ç–∞—Ç–∫–∞
- –ü—É—Å—Ç–æ–µ –ø–æ–ª–µ –∏–ª–∏ "0"

## –§–∞–π–ª—ã

### –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
- `components/orders/OrderPaymentModal.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `components/orders/OrdersTable.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û–ø–ª–∞—Ç–∞" –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `ORDER_PAYMENT_MODAL_DOCS.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `PAYMENT_MODAL_QUICKSTART.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Server Actions (–∏–∑ `lib/actions/orderPaymentActions.ts`):
- `addPartialPayment(orderId, amount)` - –¥–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂
- `markOrderAsFullyPaid(orderId)` - –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π

### –£—Ç–∏–ª–∏—Ç—ã (–∏–∑ `lib/utils/orderPaymentUtils.ts`):
- `calculateOrderTotal(total, discount)` - –∏—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞
- `calculateRemainingAmount(total, discount, paid)` - –æ—Å—Ç–∞—Ç–æ–∫
- `isOrderFullyPaid(total, discount, paid)` - –ø—Ä–æ–≤–µ—Ä–∫–∞

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø–ª–∞—Ç—ã  
‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞** - –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –≤ OrderDetailsModal  
‚úÖ **–ë—ã—Å—Ç—Ä–æ—Ç–∞** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∏–∑ —Ç–∞–±–ª–∏—Ü—ã  
‚úÖ **–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å** - –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–ª–∞—Ç–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π  

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã:
1. ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
2. ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ –æ–±–Ω–æ–≤–∏—Ç—Å—è
3. ‚úÖ –ü–æ–∫–∞–∂–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
4. ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–∫–∞–∑–∞ –∑–∞–ø–∏—à–µ—Ç—Å—è –≤ –ë–î

---

**–ì–æ—Ç–æ–≤–æ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –æ–ø–ª–∞—Ç–æ–π –∑–∞–∫–∞–∑–æ–≤!** üéâ
